import random
import math

def pollards(n, c=1):
    # Определяем функцию f(x) = (x^2 + c) mod n
    def f(x):
        return (x**2 + c) % n  # Функция f(x) = x^2 + c mod n

    # Инициализация случайного значения a в диапазоне от 1 до n-1
    a = random.randint(1, n - 1)  # Случайное начальное значение a
    b = a  # Устанавливаем b = a изначально

    # Бесконечный цикл для выполнения алгоритма
    while True:
        a = f(a)  # a = f(a), обновляем значение a
        b = f(f(b))  # b = f(f(b)), обновляем значение b (двойной шаг)
        d = math.gcd(abs(a - b), n)  # Вычисляем НОД(|a - b|, n)
        
        # Если НОД равен n
        if d == n:  
            return None  # Нетривиальный делитель не найден
        # Если найден нетривиальный делитель (d > 1 и d < n)
        elif d > 1:  
            return d  # Возвращаем найденный делитель

# Пример использования алгоритма
n = 1359331  # Число для факторизации
result = pollards(n)

# Проверяем результат и выводим его
if result is not None:
    print(f"Нетривиальный делитель числа {n}: {result}")
else:
    print(f"Нетривиальный делитель числа {n} не найден")
